<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.111.3">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Apache Spark security advisories </title>

  
  <meta name="description" content="Security information for Apache Spark"> 
  
  
  
  
  
  <meta name="robots" content="noindex">
  

  

  <meta name="author" content="">


  <meta property="og:title" content="Apache Spark security advisories" />
<meta property="og:description" content="Security information for Apache Spark" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://security.apache.org/projects/spark/" />

  




  
  
   <link href="/projects/spark/index.xml" rel="alternate" type="application/rss+xml" title="Apache Security Team" /> 

  <link rel="canonical" href="https://security.apache.org/projects/spark/">  

  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/main.css" rel="stylesheet" type="text/css">
  

 <link href="/css/custom.css" rel="stylesheet" type="text/css">

  <script src="/js/jquery-2.1.4.min.js" type="text/javascript">
  </script>

  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">Apache Security Team</a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand">
      <a href="/" title="home">Apache Security Team</a>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/blog" >Blog</a></li>
    
    <li><a href="https://www.apache.org/licenses/" >License</a></li>
    
    <li><a href="https://www.apache.org/foundation/sponsorship.html" >Sponsorship</a></li>
    
    <li><a href="https://www.apache.org/foundation/thanks.html" >Thanks</a></li>
    
    <li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" >Privacy</a></li>
    
    <li><a href="https://www.apache.org" >Apache</a></li>
    
      </ul>
    </nav>
    <nav id="top-nav-extra"> 
      <ul>
          
      </ul>
    </nav>
  </div>
 </header>
  <main>

<div id="hero" class="wrap">
  <h1>Apache Spark security advisories</h1>
    <p>Security information for Apache Spark</p>
</div>
<div id="project-box">
<div id="project">

 <h1 id="reporting">Reporting</h1>
<p>Do you want disclose a potential security issue for Apache Spark? You can read more about the projects&rsquo; security policy on their <a href="https://spark.apache.org/security.html">security page</a>, and email your report to the <a href="mailto:security@spark.apache.org">Apache Spark Security Team</a>.</p>
<h1 id="advisories">Advisories</h1>
<p class="bg-warning">This section is experimental: it provides advisories since 2023 and may lag behind the official CVE publications. It may also lack details found on the <a href="https://spark.apache.org/security.html">project security page</a>. If you have any feedback on how you would like this data to be provided, you are welcome to reach out on our public <a href="/mailinglist">mailinglist</a> or privately on <a href="mailto:security@apache.org">security@apache.org</a></p>
<h2 id="CVE-2025-55039">RPC encryption defaults to unauthenticated AES-CTR mode, enabling man-in-the-middle ciphertext modification attacks</h2>
<p>CVE-2025-55039 <a href="https://cve.org/CVERecord?id=CVE-2025-55039">[CVE]</a> <a href="./CVE-2025-55039.cve.json">[CVE json]</a> <a href="./CVE-2025-55039.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2025-10-14T20:48:57.896Z</em></p>
<h3 id="affected">Affected</h3>
<ul>
<li>Apache Spark from 3.5.0 before 3.5.2</li>
<li>Apache Spark before 3.4.4</li>
<li>Apache Spark from 3.5.0 before 3.5.2</li>
<li>Apache Spark before 3.4.4</li>
</ul>
<h3 id="description">Description</h3>
<p>This issue affects Apache Spark versions before  3.4.4,&nbsp;3.5.2 and 4.0.0.</p><p></p>Apache Spark versions before 4.0.0, 3.5.2 and 3.4.4 use an insecure default network encryption cipher for RPC communication between nodes.<p></p><p>When <code>spark.network.crypto.enabled</code> is set to true (it is set to false by default), but <code>spark.network.crypto.cipher</code> is not explicitly configured, Spark defaults to AES in CTR mode (<code>AES/CTR/NoPadding</code>), which provides encryption without authentication.</p><p>This vulnerability allows a man-in-the-middle attacker to modify encrypted RPC traffic undetected by flipping bits in ciphertext, potentially compromising heartbeat messages or application data and affecting the integrity of Spark workflows.<br></p><p>To mitigate this issue, users should either configure <code>spark.network.crypto.cipher</code> to <code>AES/GCM/NoPadding</code> to enable authenticated encryption or</p><p>enable SSL encryption by setting <code>spark.ssl.enabled</code> to true, which provides stronger transport security.</p>
<h3 id="references">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/zrgyy9l85nm2c7vk36vr7bkyorg3w4qq">https://lists.apache.org/thread/zrgyy9l85nm2c7vk36vr7bkyorg3w4qq</a></li>
</ul>
<h2 id="CVE-2023-32007">Shell command injection via Spark UI</h2>
<p>CVE-2023-32007 <a href="https://cve.org/CVERecord?id=CVE-2023-32007">[CVE]</a> <a href="./CVE-2023-32007.cve.json">[CVE json]</a> <a href="./CVE-2023-32007.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2023-05-02T08:37:02.283Z</em></p>
<h3 id="affected-1">Affected</h3>
<ul>
<li>Apache Spark from 3.1.1 before 3.2.2</li>
</ul>
<h3 id="description-1">Description</h3>
<div>** UNSUPPORTED WHEN ASSIGNED ** The Apache Spark UI offers the possibility to enable ACLs via the configuration option spark.acls.enable. With an authentication filter, this checks whether a user has access permissions to view or modify the application. If ACLs are enabled, a code path in HttpSecurityFilter can allow someone to perform impersonation by providing an arbitrary user name. A malicious user might then be able to reach a permission check function that will ultimately build a Unix shell command based on their input, and execute it. This will result in arbitrary shell command execution as the user Spark is currently running as. This issue was disclosed earlier as CVE-2022-33891, but incorrectly claimed version 3.1.3 (which has since gone EOL) would not be affected.</div><div>NOTE: This vulnerability only affects products that are no longer supported by the maintainer.</div><div>Users are recommended to upgrade to a supported version of Apache Spark, such as version 3.4.0.<br></div>
<h3 id="references-1">References</h3>
<ul>
<li><a href="https://www.cve.org/CVERecord?id=CVE-2022-33891">https://www.cve.org/CVERecord?id=CVE-2022-33891</a></li>
<li><a href="https://spark.apache.org/security.html">https://spark.apache.org/security.html</a></li>
<li><a href="https://lists.apache.org/thread/poxgnxhhnzz735kr1wos366l5vdbb0nv">https://lists.apache.org/thread/poxgnxhhnzz735kr1wos366l5vdbb0nv</a></li>
</ul>
<h3 id="credits">Credits</h3>
<ul>
<li>Sven Krewitt, Flashpoint (reporter)</li>
</ul>
<h2 id="CVE-2023-22946">Apache Spark proxy-user privilege escalation from malicious configuration class</h2>
<p>CVE-2023-22946 <a href="https://cve.org/CVERecord?id=CVE-2023-22946">[CVE]</a> <a href="./CVE-2023-22946.cve.json">[CVE json]</a> <a href="./CVE-2023-22946.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2023-04-17T07:30:17.426Z</em></p>
<h3 id="affected-2">Affected</h3>
<ul>
<li>Apache Spark before 3.4.0</li>
</ul>
<h3 id="description-2">Description</h3>
<div>In Apache Spark versions prior to 3.4.0, applications using spark-submit can specify a 'proxy-user' to run as, limiting privileges. The application can execute code with the privileges of the submitting user, however, by providing malicious configuration-related classes on the classpath. This affects architectures relying on proxy-user, for example those using Apache Livy to manage submitted applications.</div><div>Update to Apache Spark 3.4.0 or later, and ensure that 
spark.submit.proxyUser.allowCustomClasspathInClusterMode is set to its 
default of "false", and is not overridden by submitted applications.<br></div>
<h3 id="references-2">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/yllfl25xh5tbotjmg93zrq4bzwhqc0gv">https://lists.apache.org/thread/yllfl25xh5tbotjmg93zrq4bzwhqc0gv</a></li>
</ul>
<h3 id="credits-1">Credits</h3>
<ul>
<li>Hideyuki Furue (finder)</li>
<li>Yi Wu (Databricks) (remediation developer)</li>
</ul>
<h2 id="CVE-2022-33891">Apache Spark shell command injection vulnerability via Spark UI</h2>
<p>CVE-2022-33891 <a href="https://cve.org/CVERecord?id=CVE-2022-33891">[CVE]</a> <a href="./CVE-2022-33891.cve.json">[CVE json]</a> <a href="./CVE-2022-33891.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2022-07-18T06:58:42.467Z</em></p>
<h3 id="affected-3">Affected</h3>
<ul>
<li>Apache Spark from 3.0.3 and earlier through 3.0.3</li>
<li>Apache Spark from 3.1.1 to 3.1.2 through 3.1.2</li>
<li>Apache Spark from 3.2.0 to 3.2.1 through 3.2.1</li>
</ul>
<h3 id="description-3">Description</h3>
<p>The Apache Spark UI offers the possibility to enable ACLs via the configuration option spark.acls.enable. With an authentication filter, this checks whether a user has access permissions to view or modify the application. If ACLs are enabled, a code path in HttpSecurityFilter can allow someone to perform impersonation by providing an arbitrary user name. A malicious user might then be able to reach a permission check function that will ultimately build a Unix shell command based on their input, and execute it. This will result in arbitrary shell command execution as the user Spark is currently running as. This affects Apache Spark versions 3.0.3 and earlier, versions 3.1.1 to 3.1.2, and versions 3.2.0 to 3.2.1.</p>
<h3 id="references-3">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/p847l3kopoo5bjtmxrcwk21xp6tjxqlc">https://lists.apache.org/thread/p847l3kopoo5bjtmxrcwk21xp6tjxqlc</a></li>
</ul>
<h3 id="credits-2">Credits</h3>
<ul>
<li>Kostya Kortchinsky (Databricks)</li>
</ul>
<h2 id="CVE-2022-31777">Apache Spark XSS vulnerability in log viewer UI Javascript</h2>
<p>CVE-2022-31777 <a href="https://cve.org/CVERecord?id=CVE-2022-31777">[CVE]</a> <a href="./CVE-2022-31777.cve.json">[CVE json]</a> <a href="./CVE-2022-31777.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2022-11-01T15:31:47.242Z</em></p>
<h3 id="affected-4">Affected</h3>
<ul>
<li>Apache Spark at 3.3.0</li>
<li>Apache Spark from 3.2.1 and earlier through 3.2.1</li>
</ul>
<h3 id="description-4">Description</h3>
<p>A stored cross-site scripting (XSS) vulnerability in Apache Spark 3.2.1 and earlier, and 3.3.0, allows remote attackers to execute arbitrary JavaScript in the web browser of a user, by including a malicious payload into the logs which would be returned in logs rendered in the UI.</p>
<h3 id="references-4">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/60mgbswq2lsmrxykfxpqq13ztkm2ht6q">https://lists.apache.org/thread/60mgbswq2lsmrxykfxpqq13ztkm2ht6q</a></li>
</ul>
<h3 id="credits-3">Credits</h3>
<ul>
<li>Florian Walter (Veracode)</li>
</ul>
<h2 id="CVE-2021-38296">Apache Spark Key Negotiation Vulnerability</h2>
<p>CVE-2021-38296 <a href="https://cve.org/CVERecord?id=CVE-2021-38296">[CVE]</a> <a href="./CVE-2021-38296.cve.json">[CVE json]</a> <a href="./CVE-2021-38296.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2022-03-10T08:16:48.042Z</em></p>
<h3 id="affected-5">Affected</h3>
<ul>
<li>Apache Spark from up to and including version 3.1.2 through 3.1.2</li>
</ul>
<h3 id="description-5">Description</h3>
<p>Apache Spark supports end-to-end encryption of RPC connections via &ldquo;spark.authenticate&rdquo; and &ldquo;spark.network.crypto.enabled&rdquo;. In versions 3.1.2 and earlier, it uses a bespoke mutual authentication protocol that allows for full encryption key recovery. After an initial interactive attack, this would allow someone to decrypt plaintext traffic offline. Note that this does not affect security mechanisms controlled by &ldquo;spark.authenticate.enableSaslEncryption&rdquo;, &ldquo;spark.io.encryption.enabled&rdquo;, &ldquo;spark.ssl&rdquo;, &ldquo;spark.ui.strictTransportSecurity&rdquo;.  Update to Apache Spark 3.1.3 or later</p>
<h3 id="references-5">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/70x8fw2gx3g9ty7yk0f2f1dlpqml2smd">https://lists.apache.org/thread/70x8fw2gx3g9ty7yk0f2f1dlpqml2smd</a></li>
</ul>
<h3 id="credits-4">Credits</h3>
<ul>
<li>Steve Weis (Databricks)</li>
</ul>

  
</div>
</div>
</main>
  <footer> 
    <footer id="footer">
    <p>&copy; The Apache Software Foundation. Built using the <a href="https://github.com/jeblister/kube" target="_blank" rel="noopener noreferrer">kube Theme for Hugo</a>. Apache and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  </footer>
 
</footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/main.js" type="text/javascript">
  </script>
</body>

</html>
