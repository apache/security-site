<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.111.3">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Apache ActiveMQ security advisories </title>

  
  <meta name="description" content="Security information for Apache ActiveMQ"> 
  
  
  
  
  
  <meta name="robots" content="noindex">
  

  

  <meta name="author" content="">


  <meta property="og:title" content="Apache ActiveMQ security advisories" />
<meta property="og:description" content="Security information for Apache ActiveMQ" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://security.apache.org/projects/activemq/" />

  




  
  
   <link href="/projects/activemq/index.xml" rel="alternate" type="application/rss+xml" title="Apache Security Team" /> 

  <link rel="canonical" href="https://security.apache.org/projects/activemq/">  

  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/main.css" rel="stylesheet" type="text/css">
  

 <link href="/css/custom.css" rel="stylesheet" type="text/css">

  <script src="/js/jquery-2.1.4.min.js" type="text/javascript">
  </script>

  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">Apache Security Team</a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand">
      <a href="/" title="home">Apache Security Team</a>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/blog" >Blog</a></li>
    
    <li><a href="https://www.apache.org/licenses/" >License</a></li>
    
    <li><a href="https://www.apache.org/foundation/sponsorship.html" >Sponsorship</a></li>
    
    <li><a href="https://www.apache.org/foundation/thanks.html" >Thanks</a></li>
    
    <li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" >Privacy</a></li>
    
    <li><a href="https://www.apache.org" >Apache</a></li>
    
      </ul>
    </nav>
    <nav id="top-nav-extra"> 
      <ul>
          
      </ul>
    </nav>
  </div>
 </header>
  <main>

<div id="hero" class="wrap">
  <h1>Apache ActiveMQ security advisories</h1>
    <p>Security information for Apache ActiveMQ</p>
</div>
<div id="project-box">
<div id="project">

 <h1 id="reporting">Reporting</h1>
<p>Do you want disclose a potential security issue for Apache ActiveMQ? You can read more about the projects&rsquo; security policy on their <a href="https://activemq.apache.org/security-advisories">security page</a>, and email your report to the <a href="mailto:security@apache.org">Apache Security Team</a>.</p>
<h1 id="advisories">Advisories</h1>
<p class="bg-warning">This section is experimental: it provides advisories since 2023 and may lag behind the official CVE publications. It may also lack details found on the <a href="https://activemq.apache.org/security-advisories">project security page</a>. If you have any feedback on how you would like this data to be provided, you are welcome to reach out on our public <a href="/mailinglist">mailinglist</a> or privately on <a href="mailto:security@apache.org">security@apache.org</a></p>
<h2 id="CVE-2020-13947"></h2>
<p>CVE-2020-13947 <a href="./CVE-2020-13947.cve.json">[CVE json]</a> <a href="./CVE-2020-13947.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2021-02-10T09:16:00.641Z</em></p>
<h3 id="affected">Affected</h3>
<ul>
<li>Apache ActiveMQ from Apache ActiveMQ before 5.15.13</li>
</ul>
<h3 id="description">Description</h3>
<p>An instance of a cross-site scripting vulnerability was identified to be present in the web based administration console on the message.jsp page of Apache ActiveMQ versions 5.15.12 through 5.16.0.</p>
<h3 id="references">References</h3>
<ul>
<li><a href="http://activemq.apache.org/security-advisories.data/CVE-2020-13947-announcement.txt">http://activemq.apache.org/security-advisories.data/CVE-2020-13947-announcement.txt</a></li>
</ul>
<h2 id="CVE-2021-26117">ActiveMQ: LDAP-Authentication does not verify passwords on servers with anonymous bind</h2>
<p>CVE-2021-26117 <a href="./CVE-2021-26117.cve.json">[CVE json]</a> <a href="./CVE-2021-26117.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2021-01-27T18:47:20.605Z</em></p>
<h3 id="affected-1">Affected</h3>
<ul>
<li>Apache ActiveMQ from Apache ActiveMQ Artemis before 2.16.0</li>
<li>Apache ActiveMQ from Apache ActiveMQ before 5.16.1</li>
</ul>
<h3 id="description-1">Description</h3>
<p>The optional ActiveMQ LDAP login module can be configured to use anonymous access to the LDAP server. In this case, for Apache ActiveMQ Artemis prior to version 2.16.0 and Apache ActiveMQ prior to versions 5.16.1 and 5.15.14, the anonymous context is used to verify a valid users password in error, resulting in no check on the password.</p>
<h3 id="references-1">References</h3>
<ul>
<li><a href="https://mail-archives.apache.org/mod_mbox/activemq-users/202101.mbox/%3cCAH+vQmMeUEiKN4wYX9nLBbqmFZFPXqajNvBKmzb2V8QZANcSTA%40mail.gmail.com%3e">https://mail-archives.apache.org/mod_mbox/activemq-users/202101.mbox/%3cCAH+vQmMeUEiKN4wYX9nLBbqmFZFPXqajNvBKmzb2V8QZANcSTA%40mail.gmail.com%3e</a></li>
</ul>
<h3 id="credits">Credits</h3>
<ul>
<li>Apache ActiveMQ would like to thank Gregor Tudan <a href="mailto:gregor.tudan@cofinpro.de">gregor.tudan@cofinpro.de</a> for reporting this issue.</li>
</ul>
<h2 id="CVE-2021-26118">Flaw in ActiveMQ Artemis OpenWire support</h2>
<p>CVE-2021-26118 <a href="./CVE-2021-26118.cve.json">[CVE json]</a> <a href="./CVE-2021-26118.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2021-01-27T18:47:25.710Z</em></p>
<h3 id="affected-2">Affected</h3>
<ul>
<li>Apache ActiveMQ Artemis from unspecified before 2.16.0</li>
</ul>
<h3 id="description-2">Description</h3>
<p>While investigating ARTEMIS-2964 it was found that the creation of advisory messages in the OpenWire protocol head of Apache ActiveMQ Artemis 2.15.0 bypassed policy based access control for the entire session. Production of advisory messages was not subject to access control in error.</p>
<h3 id="references-2">References</h3>
<ul>
<li><a href="https://mail-archives.apache.org/mod_mbox/activemq-users/202101.mbox/%3CCAH%2BvQmMUNnkiXv2-d3ucdErWOsdnLi6CgnK%2BVfixyJvTgTuYig%40mail.gmail.com%3E">https://mail-archives.apache.org/mod_mbox/activemq-users/202101.mbox/%3CCAH%2BvQmMUNnkiXv2-d3ucdErWOsdnLi6CgnK%2BVfixyJvTgTuYig%40mail.gmail.com%3E</a></li>
</ul>
<h3 id="credits-1">Credits</h3>
<ul>
<li>Apache ActiveMQ  would like to thank Francesco Marchioni (Red Hat) for reporting this issue.</li>
</ul>
<h2 id="CVE-2022-23913">Apache ActiveMQ Artemis DoS</h2>
<p>CVE-2022-23913 <a href="./CVE-2022-23913.cve.json">[CVE json]</a> <a href="./CVE-2022-23913.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2022-02-04T08:26:48.236Z</em></p>
<h3 id="affected-3">Affected</h3>
<ul>
<li>Apache ActiveMQ Artemis from 2.19.0 before 2.20.0</li>
</ul>
<h3 id="description-3">Description</h3>
<p>In Apache ActiveMQ Artemis prior to 2.20.0 or 2.19.1, an attacker could partially disrupt availability (DoS) through uncontrolled resource consumption of memory.</p>
<h3 id="references-3">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/fjynj57rd99s814rdn5hzvmx8lz403q2">https://lists.apache.org/thread/fjynj57rd99s814rdn5hzvmx8lz403q2</a></li>
</ul>
<h2 id="CVE-2022-35278">HTML Injection in ActiveMQ Artemis Web Console</h2>
<p>CVE-2022-35278 <a href="./CVE-2022-35278.cve.json">[CVE json]</a> <a href="./CVE-2022-35278.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2022-08-18T07:52:49.472Z</em></p>
<h3 id="affected-4">Affected</h3>
<ul>
<li>Apache ActiveMQ Artemis from unspecified through 2.23.1</li>
</ul>
<h3 id="description-4">Description</h3>
<p>In Apache ActiveMQ Artemis prior to 2.24.0, an attacker could show malicious content and/or redirect users to a malicious URL in the web console by using HTML in the name of an address or queue.</p>
<h3 id="references-4">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/bh6y81wtotg75337bpvxcjy436zfgf3n">https://lists.apache.org/thread/bh6y81wtotg75337bpvxcjy436zfgf3n</a></li>
</ul>
<h3 id="credits-2">Credits</h3>
<ul>
<li>Apache ActiveMQ would like to thank Yash Pandya (Digital14), Rajatkumar Karmarkar (Digital14), and Likhith Cheekatipalle (Digital14) for reporting this issue.</li>
</ul>
<h2 id="CVE-2022-41678">Insufficient API restrictions on Jolokia allow authenticated users to perform RCE</h2>
<p>CVE-2022-41678 <a href="./CVE-2022-41678.cve.json">[CVE json]</a></p>
<p><em>Last updated: 2024-05-31T08:42:39.786Z</em></p>
<h3 id="affected-5">Affected</h3>
<ul>
<li>Apache ActiveMQ before 5.16.6</li>
<li>Apache ActiveMQ from 5.17.0 before 5.17.4</li>
<li>Apache ActiveMQ at 5.18.0</li>
<li>Apache ActiveMQ at 6.0.0</li>
</ul>
<h3 id="description-5">Description</h3>
<p><span style="background-color: rgb(255, 255, 255);">Once an user is authenticated on Jolokia, he can potentially trigger arbitrary code execution. <br><br>In details, in ActiveMQ configurations, jetty allows
org.jolokia.http.AgentServlet to handler request to /api/jolokia<br><br>org.jolokia.http.HttpRequestHandler#handlePostRequest is able to
create JmxRequest through JSONObject. And calls to
org.jolokia.http.HttpRequestHandler#executeRequest.<br><br>Into deeper calling stacks,
org.jolokia.handler.ExecHandler#doHandleRequest is able to invoke
through refection.</p>
<p>And then, RCE is able to be achieved via
jdk.management.jfr.FlightRecorderMXBeanImpl which exists on Java version above 11.
<br><br>
1 Call newRecording.
<br>
2 Call setConfiguration. And a webshell data hides in it.
<br>
3 Call startRecording.
<br>
4 Call copyTo method. The webshell will be written to a .jsp file.<br><br></span>The mitigation is to restrict (by default) the actions authorized on Jolokia, or disable Jolokia.<br>A more restrictive Jolokia configuration has been defined in default ActiveMQ distribution. We encourage users to upgrade to ActiveMQ distributions version including updated Jolokia configuration: 5.16.6, 5.17.4, 5.18.0, 6.0.0.<br></p>
<h3 id="references-5">References</h3>
<ul>
<li><a href="https://activemq.apache.org/security-advisories.data/CVE-2022-41678-announcement.txt">https://activemq.apache.org/security-advisories.data/CVE-2022-41678-announcement.txt</a></li>
<li><a href="https://lists.apache.org/thread/7g17kwbtjl011mm4tr8bn1vnoq9wh4sl">https://lists.apache.org/thread/7g17kwbtjl011mm4tr8bn1vnoq9wh4sl</a></li>
</ul>
<h3 id="credits-3">Credits</h3>
<ul>
<li><a href="mailto:wangxin@threatbook.cn">wangxin@threatbook.cn</a> (finder)</li>
<li><a href="mailto:wangzhendong@threatbook.cn">wangzhendong@threatbook.cn</a> (finder)</li>
<li><a href="mailto:honglonglong@threatbook.cn">honglonglong@threatbook.cn</a> (finder)</li>
</ul>
<h2 id="CVE-2023-46604">Unbounded deserialization causes ActiveMQ to be vulnerable to a remote code execution (RCE) attack</h2>
<p>CVE-2023-46604 <a href="./CVE-2023-46604.cve.json">[CVE json]</a></p>
<p><em>Last updated: 2023-11-28T15:02:26.708Z</em></p>
<h3 id="affected-6">Affected</h3>
<ul>
<li>Apache ActiveMQ from 5.18.0 before 5.18.3</li>
<li>Apache ActiveMQ from 5.17.0 before 5.17.6</li>
<li>Apache ActiveMQ from 5.16.0 before 5.16.7</li>
<li>Apache ActiveMQ before 5.15.16</li>
<li>Apache ActiveMQ Legacy OpenWire Module from 5.18.0 before 5.18.3</li>
<li>Apache ActiveMQ Legacy OpenWire Module from 5.17.0 before 5.17.6</li>
<li>Apache ActiveMQ Legacy OpenWire Module from 5.16.0 before 5.16.7</li>
<li>Apache ActiveMQ Legacy OpenWire Module from 5.8.0 before 5.15.16</li>
</ul>
<h3 id="description-6">Description</h3>
<div>The Java OpenWire protocol marshaller is vulnerable to Remote Code 
Execution. This vulnerability may allow a remote attacker with network 
access to either a Java-based OpenWire broker or client to run arbitrary
 shell commands by manipulating serialized class types in the OpenWire 
protocol to cause either the client or the broker (respectively) to 
instantiate any class on the classpath.</div><div><br></div><div>Users are recommended to upgrade
 both brokers and clients to version 5.15.16, 5.16.7, 5.17.6, or 5.18.3 
which fixes this issue.</div>
<h3 id="references-6">References</h3>
<ul>
<li><a href="https://activemq.apache.org/security-advisories.data/CVE-2023-46604-announcement.txt">https://activemq.apache.org/security-advisories.data/CVE-2023-46604-announcement.txt</a></li>
<li><a href="https://www.openwall.com/lists/oss-security/2023/10/27/5">https://www.openwall.com/lists/oss-security/2023/10/27/5</a></li>
<li><a href="https://security.netapp.com/advisory/ntap-20231110-0010/">https://security.netapp.com/advisory/ntap-20231110-0010/</a></li>
<li><a href="https://packetstormsecurity.com/files/175676/Apache-ActiveMQ-Unauthenticated-Remote-Code-Execution.html">https://packetstormsecurity.com/files/175676/Apache-ActiveMQ-Unauthenticated-Remote-Code-Execution.html</a></li>
<li><a href="https://lists.debian.org/debian-lts-announce/2023/11/msg00013.html">https://lists.debian.org/debian-lts-announce/2023/11/msg00013.html</a></li>
</ul>
<h3 id="credits-4">Credits</h3>
<ul>
<li><a href="mailto:yejie@threatbook.cn">yejie@threatbook.cn</a> (finder)</li>
</ul>
<h2 id="CVE-2023-50780">Authenticated users could perform RCE via Jolokia MBeans</h2>
<p>CVE-2023-50780 <a href="./CVE-2023-50780.cve.json">[CVE json]</a> <a href="./CVE-2023-50780.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2024-10-14T16:03:33.323Z</em></p>
<h3 id="affected-7">Affected</h3>
<ul>
<li>Apache ActiveMQ Artemis before 2.29.0</li>
</ul>
<h3 id="description-7">Description</h3>
<p>Apache ActiveMQ Artemis allows access to diagnostic information and controls through MBeans, which are also exposed through the authenticated Jolokia endpoint. Before version 2.29.0, this also included the Log4J2 MBean. This MBean is not meant for exposure to non-administrative users. This could eventually allow an authenticated attacker to write arbitrary files to the filesystem and indirectly achieve RCE.<br></p><p>Users are recommended to upgrade to version 2.29.0 or later, which fixes the issue.</p>
<h3 id="references-7">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/63b78shqz312phsx7v1ryr7jv7bprg58">https://lists.apache.org/thread/63b78shqz312phsx7v1ryr7jv7bprg58</a></li>
</ul>
<h3 id="credits-5">Credits</h3>
<ul>
<li>Matei &ldquo;Mal&rdquo; Badanoiu (finder)</li>
</ul>
<h2 id="CVE-2024-32114">Jolokia and REST API were not secured with default configuration</h2>
<p>CVE-2024-32114 <a href="./CVE-2024-32114.cve.json">[CVE json]</a> <a href="./CVE-2024-32114.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2024-05-01T16:07:22.140Z</em></p>
<h3 id="affected-8">Affected</h3>
<ul>
<li>Apache ActiveMQ from 6.0.0 through 6.1.1</li>
</ul>
<h3 id="description-8">Description</h3>
<p>In Apache ActiveMQ 6.x, the default configuration doesn&rsquo;t secure the API web context (where the Jolokia JMX REST API and the Message REST API are located).<br>It means that anyone can use these layers without any required authentication. Potentially, anyone can interact with the broker (using Jolokia JMX REST API) and/or produce/consume messages or purge/delete destinations (using the Message REST API).<br><br>To mitigate, users can update the default conf/jetty.xml configuration file to add authentication requirement:<br><blockquote><pre>&lt;bean id=&ldquo;securityConstraintMapping&rdquo; class=&ldquo;org.eclipse.jetty.security.ConstraintMapping&rdquo;&gt;
  &lt;property name=&ldquo;constraint&rdquo; ref=&ldquo;securityConstraint&rdquo; /&gt;
  &lt;property name=&ldquo;pathSpec&rdquo; value=&quot;/&quot; /&gt;
&lt;/bean&gt;</pre></blockquote>Or we encourage users to upgrade to Apache ActiveMQ 6.1.2 where the default configuration has been updated with authentication by default.<br></p>
<h3 id="references-8">References</h3>
<ul>
<li><a href="https://activemq.apache.org/security-advisories.data/CVE-2024-32114-announcement.txt">https://activemq.apache.org/security-advisories.data/CVE-2024-32114-announcement.txt</a></li>
</ul>
<h3 id="credits-6">Credits</h3>
<ul>
<li>Martin Zeissig (finder)</li>
</ul>

  
</div>
</div>
</main>
  <footer> 
    <footer id="footer">
    <p>&copy; The Apache Software Foundation. Built using the <a href="https://github.com/jeblister/kube" target="_blank" rel="noopener noreferrer">kube Theme for Hugo</a>. Apache and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  </footer>
 
</footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/main.js" type="text/javascript">
  </script>
</body>

</html>
